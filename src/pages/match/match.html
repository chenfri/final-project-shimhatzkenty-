<ion-content padding class="page-match">
    <ion-grid class="adminHeader">

        <ion-row>
            <button class="buttons" type="submit" (click)="click_home()">חזרה לדף הבית</button>
        </ion-row>
        <ion-row style="place-self: center;">
            <h2 class="title">דף התאמות</h2>
        </ion-row>

    </ion-grid> <br><br>


    <section text-center margin-bottom>
        <ion-icon name="person"></ion-icon>
        <h1 *ngIf="user.Admin " style="font-size:1.4em" no-margin>,שלום <br> מר מנהל כללי</h1>
        <h1 *ngIf="!user.Admin " style="font-size:1.4em" no-margin>,שלום <br> {{this.nameLogged}}</h1>
    </section>


    <ion-grid>
        <ion-row>
            <ion-col col-6 *ngFor="let value of userE ; let i = index">
                <ion-item *ngIf="(value[16]!=null && value[16][0]!= '' && value[16][0] == IDlogged &&
                 !user.Admin && numbers[i]!= -1 )|| ( value[16][0] != '' && value[16]!=null && user.Admin &&
                  numbers[i]!= -1) ; else elseBlock" style="background: #ffffff00;">
                    <ion-card class="outsideCard" showMatch="true" text-center padding color="info-color">
                        <!-- <ion-card-header> -->

                        <ion-card-title class="textStyle">התאמה</ion-card-title>
                        <!-- </ion-card-header> -->

                        <ion-row style="justify-content: center;">
                            <ion-col class="insideCard">
                                <ion-card style="text-align: -webkit-center;" text-center padding color="info-color">

                                    <ion-item style=" text-align: -webkit-center;">
                                        <img *ngIf="value[9]==1" style="width: 25%;" src="https://firebasestorage.googleapis.com/v0/b/simhat-zkenty.appspot.com/o/matchPage%2FElderly-women.png?alt=media&token=59ae802e-3080-42a0-87ff-02b69b16b05d" />
                                        <img *ngIf="value[9]==2" style="width: 25%;" src="https://firebasestorage.googleapis.com/v0/b/simhat-zkenty.appspot.com/o/matchPage%2FElderly-men.png?alt=media&token=f33cc453-3e43-4962-aaa1-de9fde4ddf50" />

                                        <ion-card-header>
                                            <ion-card-title text-wrap>{{value[0]}} </ion-card-title>
                                        </ion-card-header>
                                        <ion-card-content text-wrap>
                                            מספר פלאפון: 0{{value[1]}}
                                            <br> <br> כתובת: {{value[2]}}
                                            <br> <br>:שם המסייע {{value[3]}}
                                            <br> <br>:ימים למפגש
                                            <div *ngFor="let days of value[10]">
                                                <div *ngIf="days.currentValue">{{ days.species }}</div>
                                            </div>
                                            <br> <br>:תחביבים
                                            <div *ngFor="let hobby of value[11]">
                                                <div *ngIf="hobby.currentValue">{{ hobby.species }}</div>
                                            </div>
                                            <br> <br>:שעות מועדפות למפגש
                                            <div *ngFor="let hours of value[12]">
                                                <div *ngIf="hours.currentValue">{{ hours.species }}</div>
                                            </div>
                                            <br> <br>:שפות
                                            <div *ngFor="let lang of value[13]">
                                                <div *ngIf="lang.currentValue">{{ lang.species }}</div>
                                            </div>
                                            <br> <br>:סגנון מוזיקלי
                                            <div *ngFor="let musical of value[14]">
                                                <div *ngIf="musical.currentValue">{{ musical.species }}</div>
                                            </div>
                                            <br> <br>
                                            <div>:מעוניין להיפגש עם
                                                <div *ngIf=" value[15]  == 1">אין העדפה</div>
                                                <div *ngIf=" value[15]   == 2">נשים בלבד</div>
                                                <div *ngIf=" value[15]   == 3">גברים בלבד</div>
                                            </div>
                                        </ion-card-content>
                                    </ion-item>

                                </ion-card>
                            </ion-col>
                            <ion-col class="insideCard" *ngIf="user.Admin && numbers[i] != -1">
                                <ion-card text-center padding color="info-color">

                                    <ion-item style=" text-align: -webkit-center;" *ngIf="numbers[i]!= -1">


                                        <img *ngIf=" userV[numbers[i]][7]==1" style="width: 25%;" src="https://firebasestorage.googleapis.com/v0/b/simhat-zkenty.appspot.com/o/matchPage%2Fvolunteer%20-%20women.png?alt=media&token=f31aaad6-ee85-47de-8370-3bca2241b155" />
                                        <img *ngIf=" userV[numbers[i]][7]==2" style="width: 25%;" src="https://firebasestorage.googleapis.com/v0/b/simhat-zkenty.appspot.com/o/matchPage%2Fvolunteer%20-%20men.png?alt=media&token=54bc0512-5082-4eb6-bea2-a1d98582220b" />
                                        <ion-card-header>
                                            <ion-card-title text-wrap>{{userV[numbers[i]][0]}}</ion-card-title>
                                        </ion-card-header>
                                        <ion-card-content text-wrap>
                                            מספר פלאפון: 0{{userV[numbers[i]][1]}}
                                            <br> <br> כתובת: {{userV[numbers[i]][2]}}
                                            <br> <br>:ימים למפגש
                                            <div *ngFor="let days of userV[numbers[i]][8]">
                                                <div *ngIf="days.currentValue">{{ days.species }}</div>
                                            </div>
                                            <br> <br>:תחביבים
                                            <div *ngFor="let hobby of userV[numbers[i]][9]">
                                                <div *ngIf="hobby.currentValue">{{ hobby.species }}</div>
                                            </div>
                                            <br> <br>:שעות מועדפות למפגש
                                            <div *ngFor="let hours of userV[numbers[i]][10]">
                                                <div *ngIf="hours.currentValue">{{ hours.species }}</div>
                                            </div>
                                            <br> <br>:שפות
                                            <div *ngFor="let lang of value[13]">
                                                <div *ngIf="lang.currentValue">{{ lang.species }}</div>
                                            </div>
                                            <br> <br>:סגנון מוזיקלי
                                            <div *ngFor="let musical of userV[numbers[i]][12]">
                                                <div *ngIf="musical.currentValue">{{ musical.species }}</div>
                                            </div>
                                            <br> <br>
                                            <div>:מעוניין להיפגש עם
                                                <div *ngIf=" userV[numbers[i]][13]  == 1">אין העדפה</div>
                                                <div *ngIf=" userV[numbers[i]][13]   == 2">נשים בלבד</div>
                                                <div *ngIf=" userV[numbers[i]][13]   == 3">גברים בלבד</div>
                                            </div>
                                        </ion-card-content>
                                    </ion-item>

                                </ion-card>

                            </ion-col>
                        </ion-row>
                        <ion-row style="justify-content: center;">
                            <button *ngIf="!user.Admin && this.user.status==1" class="buttons" type="submit" (click)="acceptMatch(value[6])">אשר התאמה</button>
                            <button *ngIf="!user.Admin && this.user.status==2" class="buttons" type="submit" (click)="acceptedMeeting(value[6])">אשר ביצוע מפגש</button>
                            <br><br>
                            <button class="buttons" type="submit" (click)="CancelMatch(value[6])">ביטול התאמה</button>

                        </ion-row>
                        <ion-row class="textStyle" *ngIf="!user.Admin && this.user.status==4">התקיים מפגש</ion-row>

                        <ion-row *ngIf="numbers[i]!= -1" style="justify-content: center;">
                            <button *ngIf="!user.Admin && this.user.status==1" class="buttons" type="submit" (click)="acceptMatch(value[6] , 0)">אשר התאמה</button>
                            <button *ngIf="!user.Admin && this.user.status==2" class="buttons" type="submit" (click)="acceptedMeeting(value[6], 0)">אשר ביצוע מפגש</button>
                            <!-- <button *ngIf="!user.Admin && acceptedMatch" class="buttons" type="submit" (click)="acceptedMeeting(value[6])">אשר ביצוע מפגש</button> -->
                            <br><br>
                            <ion-grid style="width: fit-content; height: auto; float:right;" *ngIf="!user.admin && cancelText">

                                <label>נשמח לדעת את סיבת הדחייה </label><br>
                                <ion-textarea class="description" text-right type="text" [(ngModel)]="cancelDescription"></ion-textarea>
                            </ion-grid>

                        </ion-row>
                        <ion-row class="textStyle" *ngIf="numbers[i]!= -1 && !user.Admin && this.user.status==4">התקיים מפגש</ion-row>
                        <ion-row class="textStyle" *ngIf="numbers[i]!= -1 && userV[numbers[i]][15] != null && user.Admin && userV[numbers[i]][15] == 1">התאמה עדיין לא אושרה</ion-row>
                        <button *ngIf="numbers[i]!= -1 && userV[numbers[i]][15] != null && user.Admin && userV[numbers[i]][15] == 1" class="buttons" type="submit" (click)="acceptMatch(value[6] , userV[numbers[i]][4])">אשר התאמה</button>

                        <ion-row class="textStyle" *ngIf="numbers[i]!= -1 && userV[numbers[i]][15] != null && user.Admin && userV[numbers[i]][15] == 2">ההתאמה אושרה</ion-row>
                        <button *ngIf="numbers[i]!= -1 && userV[numbers[i]][15] != null && user.Admin && userV[numbers[i]][15] == 2" class="buttons" type="submit" (click)="acceptedMeeting(value[6] ,  userV[numbers[i]][4])">אשר ביצוע מפגש</button>

                        <ion-row class="textStyle" *ngIf="numbers[i]!= -1 && userV[numbers[i]][15] != null && user.Admin && userV[numbers[i]][15] == 3">התאמה נדחתה</ion-row>
                        <ion-row class="textStyle" *ngIf="numbers[i]!= -1 && userV[numbers[i]][15] != null && user.Admin && userV[numbers[i]][15] == 4">התקיים מפגש</ion-row>

                    </ion-card>

                </ion-item>

            </ion-col>
        </ion-row>
    </ion-grid>
    <!-- <div *ngIf="!showMatch">אין התאמה</div> -->

</ion-content>